
# Association Rule Mining

## Basic Concepts

| TID | A | B | C | D | E |
|----|---|---|---|---|---|
| t1 | 1 | 0 | 0 | 1 | 0 |
| t2 | 1 | 1 | 0 | 1 | 1 |
| t3 | 0 | 1 | 1 | 0 | 0 |
| t4 | 1 | 1 | 1 | 1 | 1 |
| t5 | 0 | 1 | 1 | 0 | 1 |

**`def` Item Set**

- Single Items: $A, B, C, D, E$
- Item Sets: $\{B, C\}, \{A, B, C\}$

**`def` Support** Number of records.

support(Set): # of transaction containing the set.

**`def` Large Itemset**

Item sets with a support greater than a threshold.

**`def` Association Rules**

$\text{Itemset} \mapsto \text{Item}$

**`def` Confidence**

confidence(Set1, Set2): support(Set1, Set2) / support(Set1)


$\text{conf}(B \rightarrow C) = \frac{\text{supp}(\{B, C\})}{\text{supp}(\{B\})}$

$\text{supp}(B \rightarrow C) = \text{supp}(\{B, C\})$

**`def` Interesting Association Rules**


## Problem Definition

Given: Plaint transaction info.

Goal: Find all association rules with:

- supp >= 3ï¼Œ conf >= 50%. (large && interesting)


### Method 1: Naive / Straight forward Method:

1. Enumerate all possible rules.

(Find all concepts)

A -> B
A -> C
B -> A
B -> C
C -> A
C -> B
(A, B) -> C
...

2. Compute support and confidence of each rule.

3. Select rules that: supp >= 3, conf >= 50%.

Output S0.


### Method 2: Two-step method

Step 1: Find all "large" item sets (supp >= 3)

Step 2: Find all "interesting" item sets from the "large" ones (conf >= 50%)

--- 

e.g.

1. Generate all large item sets (supp >= 3).

(Find all concepts, certifying one condition)

{A}, {B}, {C}, {A, B}, {A,C}, ...

1.1 Find all item sets.

1.2 Compute all the supports.

1.3 Filter out the non-"large" ones (< 3).

Output S1

2. Generate a set of rules with conf >= 50%.

2.1 For any two element in S1 x and y, where $x \subset y $, where supp(y) / supp(x) >= 50%, generate this rule of $x \rightarrow y - x$.

Why subset? Remark: $\text{conf}(B \rightarrow C) = \frac{\text{supp}(\{B, C\})}{\text{supp}(\{B\})}$

> Larger set, more specifications, less occurances.

Output S2.

### Equivalence of the two methods

Two method generates the same set of outputs, i.e., S2 == S0.

Proof: $S_{2} \subset S_{0} \land S_{0} \subset S_{2}$.

i.e., $(x \in S_{2} \implies x \in S_{0}) \land (x \in S_{0} \implies x \in S_{2})$

Note that two sets are rule sets.

Proof: $S_{2} = S_{0}$

Claim 1: $S_{2} \subset S_{0}$

Known: $\text{conf}(B \rightarrow C) \geq 50\%$

Show: $\text{supp}(B \rightarrow C) \geq 3\%$

i.e., show $\text{supp}(\{B, C\}) \geq 3\%$

$B \rightarrow C \in S_{2} \implies \frac{\text{supp}(\{B, C\})}{\text{supp}(B)} \geq 50\%$

Another line:

$B \rightarrow C \in S_{2} \implies B, C \in S_{1}$

$\implies \text{supp}(B) \geq 3$

Claim 2: $S_{0} \subset S_{2}$

F
$B \rightarrow C \in S_{0}$

$\implies \text{conf}(B\rightarrow C) \geq 50\% \land \text{supp}(B\rightarrow C) \geq 3$

$\Leftrightarrow \frac{\text{supp}(\{B, C\})}{\text{supp}(B)} \geq 50\% \land \text{supp}(\{B, C\}) \geq 3$

$\implies \frac{\text{supp}(\{B, C\})}{\text{supp}(B)} \geq 50\% \land \text{supp}(B) \geq 3$

$\implies \frac{\text{supp}(\{B, C\})}{\text{supp}(B)} \geq 50\% \land B \in S_{1}$

Step 2 must consider $B$, and $C$ together and must generate $B \rightarrow C$.

Therefore, $S_{0} \in S_{2}$.